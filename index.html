<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Histuri.com โ ููุงูุงุช</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="brand">
      <button id="openDrawer" class="hamburger" aria-label="menu">โฐ</button>
      <div class="brand-text">
        <h1 class="site-title">Histuri.com โจ</h1>
        <div class="muted">ูุจูุงฺฏ ูุงูุชุฒ ุดูุง</div>
      </div>
    </div>

    <nav class="top-links">
      <a href="index.html">ููุงูุงุช</a>
      <a href="stories.html">ุฏุงุณุชุงูโูุง</a>
      <a href="about.html">ุฏุฑุจุงุฑู</a>
      <a href="add.html" class="btn small ghost">ูุฑูุฏ ูุฏุฑ</a>
    </nav>
  </header>

  <!-- Drawer + Backdrop -->
  <div id="backdrop" class="backdrop"></div>
  <aside id="drawer" class="drawer" aria-hidden="true" role="dialog">
    <div class="drawer-head">
      <div class="drawer-title">ููู ุณุงุช <span class="emoji">๐</span></div>
      <button id="closeDrawer" class="close-btn" aria-label="close">โ</button>
    </div>

    <nav class="drawer-nav">
      <a href="index.html" class="drawer-link">๐ ุฎุงูู</a>
      <a href="stories.html" class="drawer-link">๐ ุฏุงุณุชุงูโูุง</a>
      <a href="about.html" class="drawer-link">โน๏ธ ุฏุฑุจุงุฑู</a>
      <a href="add.html" class="drawer-link">๐ ูุฑูุฏ ูุฏุฑ</a>
    </nav>

    <div class="drawer-footer muted">ุงู ุณุงุช ุชูุณุท ุดุฑฺฉุช <strong>NIGHTNET</strong> ุณุงุฎุชู ุดุฏู</div>
  </aside>

  <!-- Main -->
  <main class="container">
    <section class="hero card">
      <div class="hero-left">
        <h2>ููุงูุงุช ุฌุฏุฏ</h2>
        <p class="muted">ููุงูุงุช ูุงูุชุฒ ู ูููุงู โ ููุท ุดูุง ูโุชูุงูุฏ ูุทูุจ ูุฑุงุฑ ุฏูุฏ.</p>
      </div>
      <div class="hero-right">
        <a href="add.html" class="btn gradient">ููุดุชู ููุงูู</a>
      </div>
    </section>

    <section id="articles" class="article-grid"></section>

    <section class="card">
      <h3>ุฏุณุชูโูุง ู ููุงุฑุฏ ูุญุจูุจ</h3>
      <div class="chips">
        <span class="chip" style="--c: #1e73ff">ุชฺฉููููฺ</span>
        <span class="chip" style="--c: #ff6b6b">ุฏุงุณุชุงู</span>
        <span class="chip" style="--c: #ffa94d">ุฒูุฏฺฏ</span>
        <span class="chip" style="--c: #7c5cff">ููุฑ</span>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div>ุงู ุณุงุช ุชูุณุท ุดุฑฺฉุช <strong>NIGHTNET</strong> ุณุงุฎุชู ุดุฏู โ ยฉ Histuri.com</div>
  </footer>

  <script src="script.js"></script>
  <script>
    // ุจุงุฑฺฏุฐุงุฑ ู ููุงุด ููุงูุงุช
    (function(){
      const grid = document.getElementById('articles');
      function render(){
        grid.innerHTML = '';
        const raw = localStorage.getItem('histuri_articles');
        const arr = raw ? JSON.parse(raw) : [];
        if(!arr.length){
          grid.innerHTML = '<div class="card">ุชุงฺฉููู ููุงููโุง ููุชุดุฑ ูุดุฏู. <a href="add.html" class="btn ghost small">ูุฑูุฏ ูุฏุฑ</a></div>';
          return;
        }
        arr.slice().reverse().forEach((a, i)=>{
          const idx = arr.length - 1 - i;
          const el = document.createElement('article');
          el.className = 'article-card';
          el.innerHTML = `
            ${a.thumbnail ? `<img class="article-thumb" src="${a.thumbnail}" alt="${escapeHtml(a.title)}">` : ''}
            <div class="article-body">
              <h3>${escapeHtml(a.title)}</h3>
              <div class="muted small">ุฏุณุชู: ${escapeHtml(a.category || 'ุนููู')}</div>
              <p class="excerpt">${a.excerpt || stripHtml(a.content||'').slice(0,160) + '...'}</p>
            </div>
            <div class="article-actions">
              <a class="btn ghost small" href="story.html?id=${idx}">ูุดุงูุฏู</a>
            </div>
          `;
          grid.appendChild(el);
        });
      }
      render();
      initDrawer();
    })();
  </script>
</body>
</html>
